<!DOCTYPE html>
<html>

<head>
    <title>SayHi</title>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="./js/sayhi.js"></script>
</head>

<body>
    <div class="container">
        <div layout="layout.html"></div>
        <div class="card card-container">
            <!-- <img class="profile-img-card" src="//lh3.googleusercontent.com/-6V8xOA6M7BA/AAAAAAAAAAI/AAAAAAAAAAA/rzlHcD0KYwo/photo.jpg?sz=120" alt="" /> -->
            <img id="profile-img" class="profile-img-card" src="./img/music-social-group.png" />
            <p id="profile-name" class="profile-name-card"></p>
            <form class="form-signin">
                <!--<span id="reauth-email" class="reauth-email"></span>-->
                <input type="text" id="username" class="form-control" placeholder="Username" required autofocus>
                <input class="form-control" id="email" type="email" name="email" placeholder="Email" required>
                <input type="password" id="password" class="form-control" placeholder="Password" required>
                <button class="btn btn-lg btn-primary btn-block btn-signin" id="signup" type="button">Sign Up</button>
            </form>
            <!-- /form -->
            <a href="http://localhost/SayHi/login.html" class="forgot-password">
                Aready Have a Account?
            </a>
        </div>
        <!-- /card-container -->
    </div>
    <!-- /container -->
    <nav class="footer-dark navbar-fixed-bottom" style="position: relative">
        <footer>
            <div class="container">
                <p class="copyright">SayHi Â© 2018</p>
            </div>
        </footer>
    </nav>
    <script language="javascript">
        includeHTML();
        $(document).ready(function() {
            // DOM ready

            // Test data
            /*
             * To test the script you should discomment the function
             * testLocalStorageData and refresh the page. The function
             * will load some test data and the loadProfile
             * will do the changes in the UI
             */
            // testLocalStorageData();
            // Load profile if it exits
            loadProfile();
        });

        $('#signup').click(function() {
            $.ajax({
                type: "POST",
                url: "api/users",
                processData: false,
                contentType: "application/json",
                data: '{ "username": "' + $("#username").val() + '", "email": "' + $("#email").val() + '", "password": "' + $("#password").val() + '" }',
                success: function(r) {
                    console.log(r)
                        //window.location.href = '';
                },
                error: function(r) {
                    setTimeout(function() {
                        $('[data-bs-hover-animate]').removeClass('animated ' + $('[data-bs-hover-animate]').attr('data-bs-hover-animate'));
                    }, 2000)
                    $('[data-bs-hover-animate]').addClass('animated ' + $('[data-bs-hover-animate]').attr('data-bs-hover-animate'))
                    console.log(r)
                }
            });
        });
    </script>
</body>

</html>